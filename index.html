<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Web share test</title>
    <style></style>
  </head>
  <body>
    <h1>Sharing Url</h1>

    <p>
      Open the page in mobile then click below button to see the functionality.
    </p>

    <p><button>Share url!</button></p>

    <p class="result"></p>

    <script>
      let shareData = {
        title: "zahid.dev",
        text: "Learn with me",
        url: window.location.href,
      };
      const btn = document.querySelector("button");
      const resultPara = document.querySelector(".result");

      btn.addEventListener("click", () => {
        if (
          /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(
            navigator.userAgent
          )
        ) {
          navigator
            .share(shareData)
            .then(() => (resultPara.textContent = "URL is copied to clipboard"))
            .catch((e) => (resultPara.textContent = "Error: " + e));
        } else {
          console.log("client is using a laptop");
          navigator.clipboard
            .writeText("www.github.com")
            .then(() => (resultPara.textContent = "URL is copied to clipboard"))
            .catch((e) => (resultPara.textContent = "Error: " + e));
        }
      });
    </script>
  </body>
</html>
